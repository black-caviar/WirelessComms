function signal = spaceTimeDec(rx, h)
    s = pskmod([0:m-1], m);
    if min(size(rx) == 1)
        r0 = rx(1:2:end);
        r1 = rx(2:2:end);
    
        ds0 = conj(h(1,:)) .* r0 + h(2,:) .* conj(r1);
        ds1 = conj(h(2,:)) .* r0 - h(1,:) .* conj(r1); 
        
        D = @(x,y) (x - y) .* (conj(xz) - conj(y)); 

        [d0, ps0] = min(D(ds0, s'));
        [d1, ps1] = min(D(ds1, s'));
    
        rs0 = s(ps0);
        rs1 = s(ps1);

        signal = zeros(size(rx));
        signal(1:2:end) = rs0;
        signal(2:2:end) = rs1; 
    end
    
    if min(size(rx) == 2)
        r0 = rx(1,1:2:end);
        r1 = rx(1,2:2:end);
        r2 = rx(21:2:end);
        r3 = rx(2:2:end);
    end
end